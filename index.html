<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>英単【単語】(日本語➡英語)</title>
	<link rel="stylesheet" href="stylesheet.css">
</head>
<body>	
	
	<div class="title-top">
		<h1>第６回英単語テスト</h1>	

	<div id="card">
		<div id="card-front"></div>
		<div id="card-back"></div>
	</div>
	<div id="btn">NEXT</div>
	<script>
		(function() {
			'use strict';

			var words = [   
   {'en': 'technique', 'ja': '技術'},
   {'en': 'phrase', 'ja': '成句'},
   {'en': 'advantage', 'ja': '利点'},
   {'en': 'character', 'ja': '性格'},
   {'en': 'gas', 'ja': 'ガス'},
   {'en': 'citizen', 'ja': '市民'},
   {'en': 'truth', 'ja': '真実'},
   {'en': 'percentage', 'ja': 'パーセント'},
   {'en': 'explanation', 'ja': 'もし～ならば'},
   {'en': 'instance', 'ja': '例'},
   {'en': 'mark', 'ja': '印'},
   {'en': 'pollution', 'ja': '汚染'},
   {'en': 'feature', 'ja': '特徴'},
   {'en': 'trade', 'ja': '貿易'},
   {'en': 'tool', 'ja': '道具'},
   {'en': 'sort', 'ja': '種類'},
   {'en': 'atmosphere', 'ja': '雰囲気'},
   {'en': 'impact', 'ja': '影響'},
   {'en': 'attitude', 'ja': '態度'},
   {'en': 'crowd', 'ja': '群衆'},
   {'en': 'disappear', 'ja': '姿を消す'},
   {'en': 'define', 'ja': '定義する'},
   {'en': 'reflect', 'ja': '反射する'},
   {'en': 'contribute', 'ja': '貢献する'},
   {'en': 'represent', 'ja': '代表する'},
   {'en': 'match', 'ja': '～に合う'},
   {'en': 'exchange', 'ja': '交換する'},
   {'en': 'confuse', 'ja': '困惑させる'},
   {'en': 'respond', 'ja': '反応する'},
   {'en': 'treat', 'ja': '～を扱う'},
   {'en': 'male', 'ja': '男性の'},
   {'en': 'huge', 'ja': '巨大な'},
   {'en': 'professional', 'ja': 'プロの'},
   {'en': 'essential', 'ja': '必要不可欠な'},
   {'en': 'current', 'ja': '現在の'},
   {'en': 'positive', 'ja': '前向きな'},
   {'en': 'chemical', 'ja': '化学の'},
   {'en': 'comfortable', 'ja': '快適な'},
   {'en': 'central', 'ja': '中央の'},
   {'en': 'negative', 'ja': '悪い'},
   {'en': 'coal', 'ja': '石炭'},
   {'en': 'gene', 'ja': '遺伝子'},
   {'en': 'traffic', 'ja': '交通(量)'},
   {'en': 'reality', 'ja': '現実'},
   {'en': 'happiness', 'ja': '幸福'},
   {'en': 'balance', 'ja': 'バランス'},
   {'en': 'universe', 'ja': '宇宙'},
   {'en': 'factory', 'ja': '工場'},
   {'en': 'muscle', 'ja': '筋肉'},
   {'en': 'audience', 'ja': '観客'},
   {'en': 'cycle', 'ja': '循環'},
   {'en': 'electricity', 'ja': '電気'},
   {'en': 'link', 'ja': 'つながり'},
   {'en': 'cancer', 'ja': 'がん'},
   {'en': 'contact', 'ja': '連絡'},
   {'en': 'favor', 'ja': '支持'},
   {'en': 'career', 'ja': '職業'},
   {'en': 'majority', 'ja': '大多数'},
   {'en': 'officer', 'ja': '役人'},
   {'en': 'democracy', 'ja': '民主主義'}
			];


			var card = document.getElementById('card');
			var cardFront = document.getElementById('card-front');
			var cardBack = document.getElementById('card-back');
			var btn = document.getElementById('btn');
			card.addEventListener('click', function() {
				flip();
			});
			btn.addEventListener('click', function() {
				next();
			});

			function next() {
				if (card.className === 'open') {
					card.addEventListener('transitionend', setCard);
					flip();
				} else {
					setCard();
				}
			}
				function setCard() {
					var num = Math.floor(Math.random() * words.length);
					cardFront.innerHTML = words[num]['ja'];
					cardBack.innerHTML = words[num]['en'];
					card.removeEventListener('transitionend', setCard);
			}

			setCard();

			window.addEventListener('keyup', function(e) {
				// console.log(e.keyCode);
				if (e.keyCode === 70) {
					flip();
				} else if (e.keyCode === 78) {
					next();
				}
			});

			function flip() {
				card.className = card.className === '' ? 'open' : '';
			}
		})();
	</script>
</body>
</html>
