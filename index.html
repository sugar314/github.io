<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>Flash Cards</title>
	<link rel="stylesheet" href="stylesheet.css">
</head>
<body>	
	
	<div class="title-top">
		<h1>第４回英単語テスト</h1>	

	<div id="card">
		<div id="card-front"></div>
		<div id="card-back"></div>
	</div>
	<div id="btn">NEXT</div>
	<script>
		(function() {
			'use strict';

			var words = [   {'en': 'guess', 'ja': '～を推測する'},
   {'en': 'generation', 'ja': '世代'},
   {'en': 'movement', 'ja': '(政治的・社会的な)運動　'},
   {'en': 'statement', 'ja': '声明'},
   {'en': 'means', 'ja': '手段　'},
   {'en': 'expert', 'ja': '専門家'},
   {'en': 'intelligence', 'ja': '知能'},
   {'en': 'stage', 'ja': '(変化・発展の)段階'},
   {'en': 'variety', 'ja': '<a variety of Aで>いろいろなA　'},
   {'en': 'industry', 'ja': '産業'},
   {'en': 'patient', 'ja': '患者'},
   {'en': 'conversation', 'ja': '会話'},
   {'en': 'clothes', 'ja': '服'},
   {'en': 'pressure', 'ja': '(社会的な)圧力　'},
   {'en': 'position', 'ja': '位置　'},
   {'en': 'degree', 'ja': '(温度・角度などの)度　'},
   {'en': 'range', 'ja': '範囲　[動] (～の範囲に)及ぶ'},
   {'en': 'access', 'ja': '(場所への)接近(方法)　'},
   {'en': 'importance', 'ja': '重要性'},
   {'en': 'neighbor', 'ja': '隣人'},
   {'en': 'policy', 'ja': '政策'},
   {'en': 'indicate', 'ja': '(調査などが)～を示す　'},
   {'en': 'refer', 'ja': '<refer to Aで>Aに言及する　'},
   {'en': 'manage', 'ja': '～を経営する'},
   {'en': 'focus', 'ja': '(注意・意識など)を集中させる　'},
   {'en': 'promote', 'ja': '～を促進する'},
   {'en': 'observe', 'ja': '～を観察する　'},
   {'en': 'raise', 'ja': '(物・料金など)を上げる'},
   {'en': 'maintain', 'ja': '～を維持する'},
   {'en': 'search', 'ja': '(場所など)を捜す'},
   {'en': 'discuss', 'ja': '～について話し合う'},
   {'en': 'media', 'ja': '<the (mass) mediaで>(マス)メディア'},
   {'en': 'factor', 'ja': '要因'},
   {'en': 'distance', 'ja': '距離　'},
   {'en': 'standard', 'ja': '水準'},
   {'en': 'volunteer', 'ja': 'ボランティア'},
   {'en': 'resource', 'ja': '<resourcesで>資源　'},
   {'en': 'customer', 'ja': '(商店・企業などの)顧客'},
   {'en': 'strategy', 'ja': '戦略'},
   {'en': 'region', 'ja': '(広大な)地域'},
   {'en': 'evidence', 'ja': '証拠'},
   {'en': 'according', 'ja': '<according to Aで>Aによれば'},
   {'en': 'rather', 'ja': '<A rather than Bで>BよりもむしろA　'},
   {'en': 'probably', 'ja': 'たぶん'},
   {'en': 'perhaps', 'ja': 'ひょっとすると'},
   {'en': 'instead', 'ja': '(その)代わりに'},
   {'en': 'especially', 'ja': '特に'},
   {'en': 'simply', 'ja': '単に'},
   {'en': 'therefore', 'ja': 'それゆえ'},
   {'en': 'thus', 'ja': 'したがって'},
   {'en': 'indeed', 'ja': '本当に'},
   {'en': 'exactly', 'ja': '正確に'},
   {'en': 'nearly', 'ja': 'ほとんど'},
   {'en': 'further', 'ja': '(程度が)さらに　'},
   {'en': 'immediately', 'ja': 'すぐに'},
   {'en': 'forward', 'ja': '前へ'},
   {'en': 'extremely', 'ja': '極めて'},
   {'en': 'eventually', 'ja': '結局は'},
   {'en': 'hardly', 'ja': 'ほとんど～ない　(同) scarcely [発音]'},
   {'en': 'ahead', 'ja': '(位置的に)前方に[を]　'},
   {'en': 'highly', 'ja': '高度に'}
			];


			var card = document.getElementById('card');
			var cardFront = document.getElementById('card-front');
			var cardBack = document.getElementById('card-back');
			var btn = document.getElementById('btn');
			card.addEventListener('click', function() {
				flip();
			});
			btn.addEventListener('click', function() {
				next();
			});

			function next() {
				if (card.className === 'open') {
					card.addEventListener('transitionend', setCard);
					flip();
				} else {
					setCard();
				}
			}
				function setCard() {
					var num = Math.floor(Math.random() * words.length);
					cardFront.innerHTML = words[num]['ja'];
					cardBack.innerHTML = words[num]['en'];
					card.removeEventListener('transitionend', setCard);
			}

			setCard();

			window.addEventListener('keyup', function(e) {
				// console.log(e.keyCode);
				if (e.keyCode === 70) {
					flip();
				} else if (e.keyCode === 78) {
					next();
				}
			});

			function flip() {
				card.className = card.className === '' ? 'open' : '';
			}
		})();
	</script>
</body>
</html>
